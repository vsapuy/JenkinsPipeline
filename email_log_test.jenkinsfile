pipeline {
    agent any
    stages {
        stage('Build') {
            steps {
                script {
                    sh """
                    # Your build commands here
                    ./build.sh > build.log 2>&1
                    """
                }
            }
        }
    }
    post {
        always {
            archiveArtifacts artifacts: 'build.log', allowEmptyArchive: true
            script {
                def logContent = readFile('build.log')
                emailext(
                    to: 'vsapuy.edu@gmail.com',
                    subject: "Build Status Email",
                    body: "Build was successful. Please see the attached log file.",
                    
                    attachmentsPattern: 'build.log'
                )
            }
        }
    }
}
